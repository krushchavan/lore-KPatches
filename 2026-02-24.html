<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>LKML Activity Report - 2026-02-24</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                         "Helvetica Neue", Arial, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            font-size: 1.8em;
            margin-bottom: 4px;
            color: #1a1a1a;
        }
        h2 {
            font-size: 1.1em;
            color: #666;
            font-weight: normal;
            margin-bottom: 24px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin-bottom: 32px;
        }
        .stat-card {
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .contributors-section {
            margin-bottom: 32px;
        }
        .contributors-section h3 {
            font-size: 0.95em;
            color: #666;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 10px;
        }
        .contributors-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.88em;
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .contributors-table th {
            background: #f4f6f8;
            color: #555;
            font-weight: 600;
            text-align: left;
            padding: 8px 14px;
            border-bottom: 1px solid #e0e0e0;
            font-size: 0.85em;
            text-transform: uppercase;
            letter-spacing: 0.04em;
        }
        .contributors-table th.num {
            text-align: center;
        }
        .contributors-table td {
            padding: 7px 14px;
            border-bottom: 1px solid #f0f0f0;
            vertical-align: middle;
        }
        .contributors-table td.num {
            text-align: center;
            font-weight: 700;
            color: #2c3e50;
        }
        .contributors-table td.zero {
            color: #ccc;
            font-weight: normal;
        }
        .contributors-table tr:last-child td {
            border-bottom: none;
        }
        .contributors-table tr:hover td {
            background: #f9f9f9;
        }
        .contributors-table a {
            color: #2980b9;
            text-decoration: none;
            font-weight: 500;
        }
        .contributors-table a:hover {
            text-decoration: underline;
        }
        .stat-number {
            font-size: 2em;
            font-weight: 700;
            color: #2c3e50;
        }
        .stat-label {
            font-size: 0.85em;
            color: #888;
            margin-top: 4px;
        }
        .developer-section {
            background: #fff;
            border-radius: 8px;
            margin-bottom: 16px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .developer-header {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            border-bottom: 1px solid #eee;
        }
        .developer-header h3 {
            font-size: 1.1em;
            margin: 0;
        }
        .inactive-badge {
            font-size: 0.75em;
            padding: 2px 10px;
            border-radius: 12px;
            background: #e2e3e5;
            color: #383d41;
        }
        .active-badge {
            font-size: 0.75em;
            padding: 2px 10px;
            border-radius: 12px;
            background: #cce5ff;
            color: #004085;
        }
        details {
            border-top: 1px solid #f0f0f0;
        }
        summary {
            cursor: pointer;
            padding: 12px 20px;
            font-weight: 600;
            font-size: 0.9em;
            color: #555;
            user-select: none;
        }
        summary:hover { background: #fafafa; }
        .count { color: #999; font-weight: normal; }
        .activity-item {
            padding: 10px 20px;
            border-bottom: 1px solid #f5f5f5;
        }
        .activity-item:last-child { border-bottom: none; }
        .item-link {
            color: #0366d6;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9em;
        }
        .item-link:hover { text-decoration: underline; }
        .badge {
            display: inline-block;
            padding: 1px 8px;
            border-radius: 10px;
            font-size: 0.7em;
            font-weight: 600;
            margin-left: 8px;
            vertical-align: middle;
        }
        .ack-badge {
            display: inline-block;
            padding: 1px 8px;
            border-radius: 10px;
            font-size: 0.7em;
            font-weight: 600;
            margin-left: 8px;
            background: #d1ecf1;
            color: #0c5460;
        }
        .patch-count {
            display: inline-block;
            padding: 1px 8px;
            border-radius: 10px;
            font-size: 0.7em;
            font-weight: 600;
            margin-left: 8px;
            background: #e8daef;
            color: #6c3483;
        }
        .conversation-summary {
            margin-top: 6px;
            padding-left: 12px;
            border-left: 3px solid #eee;
            font-size: 0.82em;
            color: #666;
        }
        .conversation-summary ul {
            margin: 4px 0 4px 16px;
            padding: 0;
        }
        .conversation-summary li {
            margin-bottom: 2px;
        }
        .participants {
            margin-right: 12px;
        }
        .signals {
            color: #999;
            font-style: italic;
        }
        .patch-summary {
            margin-top: 6px;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 4px;
            font-size: 0.82em;
            color: #444;
            line-height: 1.6;
        }
        .patch-summary p {
            margin: 0 0 6px 0;
        }
        .patch-summary p:last-child {
            margin-bottom: 0;
        }
        .progress-badge {
            display: inline-block;
            padding: 1px 8px;
            border-radius: 10px;
            font-size: 0.7em;
            font-weight: 600;
            margin-left: 8px;
            vertical-align: middle;
        }
        .analysis-source-badge {
            display: inline-block;
            padding: 1px 8px;
            border-radius: 10px;
            font-size: 0.65em;
            font-weight: 600;
            margin-left: 6px;
            vertical-align: middle;
            border: 1px solid rgba(0,0,0,0.1);
        }
        .progress-detail {
            margin-top: 4px;
            font-size: 0.8em;
            color: #555;
            padding-left: 4px;
        }
        .progress-icon {
            font-size: 0.7em;
            color: #888;
        }
        .review-comments {
            margin-top: 8px;
            border-left: 3px solid #ddd;
            padding-left: 12px;
        }
        .review-comments-header {
            font-size: 0.78em;
            color: #888;
            font-weight: 600;
            margin-bottom: 6px;
        }
        .review-comment {
            margin-bottom: 8px;
            padding: 6px 10px;
            background: #fafbfc;
            border-radius: 4px;
            font-size: 0.82em;
        }
        .review-comment:last-child {
            margin-bottom: 0;
        }
        .review-comment-header {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 6px;
            margin-bottom: 4px;
        }
        .review-author {
            font-weight: 600;
            color: #333;
        }
        .reply-to-label {
            font-size: 0.78em;
            color: #888;
            font-style: italic;
        }
        .inline-review-badge {
            display: inline-block;
            padding: 0 6px;
            border-radius: 8px;
            font-size: 0.8em;
            font-weight: 500;
            background: #e3f2fd;
            color: #1565c0;
        }
        .review-tag-badge {
            display: inline-block;
            padding: 0 6px;
            border-radius: 8px;
            font-size: 0.8em;
            font-weight: 500;
            background: #e8f5e9;
            color: #2e7d32;
        }
        .review-comment-text {
            color: #555;
            line-height: 1.5;
        }
        .review-comment-signals {
            margin-top: 3px;
            font-size: 0.9em;
            color: #999;
            font-style: italic;
        }
        .raw-body-toggle {
            margin-top: 4px;
            font-size: 0.85em;
            border-top: none;
        }
        .raw-body-toggle summary {
            cursor: pointer;
            color: #666;
            padding: 2px 0;
            font-weight: 500;
            font-size: 0.9em;
        }
        .raw-body-toggle summary:hover {
            color: #333;
            background: transparent;
        }
        .raw-body-text {
            white-space: pre-wrap;
            font-size: 1em;
            background: #f8f8f8;
            padding: 8px;
            border-radius: 4px;
            max-height: 400px;
            overflow-y: auto;
            margin-top: 4px;
            line-height: 1.5;
            color: #444;
            border: 1px solid #e8e8e8;
        }
        .review-comment-footer {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            flex-wrap: wrap;
            margin-top: 4px;
        }
        .lore-link {
            display: inline-block;
            margin-top: 4px;
            font-size: 0.82em;
            color: #0366d6;
            text-decoration: none;
            font-weight: 500;
            white-space: nowrap;
        }
        .lore-link:hover {
            text-decoration: underline;
            color: #0056b3;
        }
        .review-comments-compact {
            margin-top: 8px;
            border-left: 3px solid #ddd;
            padding: 6px 12px;
            font-size: 0.82em;
            color: #666;
        }
        .reviewer-list {
            color: #555;
        }
        .review-detail-link {
            margin-top: 4px;
        }
        .review-detail-link a {
            color: #0366d6;
            text-decoration: none;
            font-weight: 500;
        }
        .review-detail-link a:hover {
            text-decoration: underline;
        }
        .activity-item.ongoing {
            border-left: 3px solid #6f42c1;
            background: #faf8ff;
        }
        .ongoing-badge {
            display: inline-block;
            padding: 1px 8px;
            border-radius: 10px;
            font-size: 0.7em;
            font-weight: 600;
            margin-right: 6px;
            background: #e8daef;
            color: #6f42c1;
            vertical-align: middle;
        }
        .submitted-date {
            font-size: 0.72em;
            color: #999;
            margin-right: 8px;
            vertical-align: middle;
        }
        .no-activity {
            padding: 10px 20px;
            color: #aaa;
            font-size: 0.85em;
            font-style: italic;
        }
        .errors {
            padding: 8px 20px;
        }
        .error-msg {
            color: #721c24;
            background: #f8d7da;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 0.82em;
            margin-bottom: 4px;
        }
        footer {
            text-align: center;
            color: #aaa;
            font-size: 0.8em;
            margin-top: 32px;
            padding: 16px;
        }
        footer a {
            color: #999;
            text-decoration: none;
        }
        footer a:hover {
            text-decoration: underline;
        }
        .llm-badge {
            display: inline-block;
            background: #e8f5e9;
            color: #2e7d32;
            border: 1px solid #a5d6a7;
            border-radius: 12px;
            padding: 2px 12px;
            font-size: 0.75em;
            font-weight: 600;
            vertical-align: middle;
            margin-left: 8px;
        }
        .back-to-index {
            margin-bottom: 16px;
        }
        .back-to-index a {
            color: #555;
            text-decoration: none;
            font-size: 0.85em;
        }
        .back-to-index a:hover {
            color: #1565c0;
            text-decoration: underline;
        }
        .analysis-mode {
            font-size: 0.85em;
            color: #888;
            margin-top: 4px;
        }
        .log-link {
            font-size: 0.85em;
            margin-top: 4px;
        }
        .log-link a {
            color: #0366d6;
            text-decoration: none;
        }
        .log-link a:hover {
            text-decoration: underline;
        }
        .llm-analyses {
            margin-top: 8px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .llm-analysis {
            border: 1px solid #e0e0e0;
            border-left: 4px solid #90caf9;
            border-radius: 6px;
            padding: 10px 14px;
            background: #fafbfc;
        }
        .llm-analysis:nth-child(2) {
            border-left-color: #a5d6a7;
        }
        .llm-analysis:nth-child(3) {
            border-left-color: #ce93d8;
        }
        .llm-analysis-header {
            font-weight: 700;
            font-size: 0.78em;
            color: #555;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
            padding-bottom: 6px;
            border-bottom: 1px solid #eee;
        }
        .progress-banner {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 6px;
            padding: 12px 20px;
            margin-bottom: 20px;
            font-size: 0.9em;
            color: #856404;
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }
        .progress-spinner {
            display: inline-block;
            animation: spin 1.2s linear infinite;
            font-style: normal;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to   { transform: rotate(360deg); }
        }
        .progress-count {
            font-weight: 700;
        }
        .progress-current {
            color: #0c5460;
            font-style: italic;
        }
        .progress-updated {
            margin-left: auto;
            font-size: 0.85em;
            color: #6c5500;
            opacity: 0.75;
        }
    </style>
</head>
<body>
    <p class="back-to-index"><a href="index.html">&#8592; Back to Index</a></p>
    <h1>LKML Activity Report</h1>
    <h2>2026-02-24 &mdash; Generated 2026-02-26 13:16:33</h2>
    <p class="analysis-mode">Analysis: Heuristic</p>
    
    

    
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-number">19</div>
            <div class="stat-label">Patches Submitted</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">19</div>
            <div class="stat-label">Reviews Given</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">9</div>
            <div class="stat-label">Acks Given</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">12/16</div>
            <div class="stat-label">Active Developers</div>
        </div>
    </div>
    
    <div class="contributors-section">
        <h3>Contributors</h3>
        <table class="contributors-table">
            <thead><tr>
                <th>Developer</th>
                <th class="num">Patches</th>
                
                <th class="num">Reviews</th>
                <th class="num">Acks</th>
            </tr></thead>
            <tbody><tr><td><a href="#dev-gregory-price">Gregory Price</a></td><td class="num">2</td><td class="num">4</td><td class="num">4</td></tr><tr><td><a href="#dev-dmitry-ilvokhin">Dmitry Ilvokhin</a></td><td class="num">5</td><td class="num">2</td><td class="num zero">&mdash;</td></tr><tr><td><a href="#dev-joanne-koong">Joanne Koong</a></td><td class="num">3</td><td class="num">2</td><td class="num">2</td></tr><tr><td><a href="#dev-jeff-layton">Jeff Layton</a></td><td class="num">2</td><td class="num">3</td><td class="num zero">&mdash;</td></tr><tr><td><a href="#dev-leo-martins">Leo Martins</a></td><td class="num">4</td><td class="num zero">&mdash;</td><td class="num zero">&mdash;</td></tr><tr><td><a href="#dev-rik-van-riel">Rik van Riel</a></td><td class="num zero">&mdash;</td><td class="num">2</td><td class="num">2</td></tr><tr><td><a href="#dev-shakeel-butt">Shakeel Butt</a></td><td class="num zero">&mdash;</td><td class="num">3</td><td class="num">1</td></tr><tr><td><a href="#dev-joshua-hahn">Joshua Hahn</a></td><td class="num">1</td><td class="num">1</td><td class="num zero">&mdash;</td></tr><tr><td><a href="#dev-boris-burkov">Boris Burkov</a></td><td class="num">1</td><td class="num zero">&mdash;</td><td class="num zero">&mdash;</td></tr><tr><td><a href="#dev-johannes-weiner">Johannes Weiner</a></td><td class="num zero">&mdash;</td><td class="num">1</td><td class="num zero">&mdash;</td></tr><tr><td><a href="#dev-mark-harmstone">Mark Harmstone</a></td><td class="num">1</td><td class="num zero">&mdash;</td><td class="num zero">&mdash;</td></tr><tr><td><a href="#dev-nhat-pham">Nhat Pham</a></td><td class="num zero">&mdash;</td><td class="num">1</td><td class="num zero">&mdash;</td></tr></tbody>
        </table>
    </div>
    

    <div class="developer-section" id="dev-alexandre-ghiti">
<div class="developer-header">
<h3>Alexandre Ghiti</h3>
<span class="inactive-badge">No activity</span>
</div>
<details>
<summary>Patches Submitted <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
</div>
<div class="developer-section" id="dev-boris-burkov">
<div class="developer-header">
<h3>Boris Burkov</h3>
<span class="active-badge">1 items</span>
</div>
<details open>
<summary>Patches Submitted <span class="count">(1)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/14fc2404e55d99e9d3a4f95e3e825678dc2422a0.1771971643.git.boris@bur.io/" target="_blank" class="item-link">[PATCH v2 1/1] btrfs: set BTRFS_ROOT_ORPHAN_CLEANUP during subvol create</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>We have recently observed a number of subvolumes with broken dentries. ls-ing the parent dir looks like:</p>
<p>drwxrwxrwt 1 root root 16 Jan 23 16:49 . drwxr-xr-x 1 root root 24 Jan 23 16:48 .. d????????? ? ?    ?     ?            ? broken_subvol</p>
<p>and similarly stat-ing the file fails.</p>
<p>In this state, deleting the subvol fails with ENOENT, but attempting to create a new file or subvol over it errors out with EEXIST and even aborts the fs. Which leaves us a bit stuck.</p>
<p>dmesg contains a single notable error message reading: &quot;could not do orphan cleanup -2&quot;</p>
<p>2 is ENOENT and the error comes from the failure handling path of btrfs_orphan_cleanup(), with the stack leading back up to btrfs_lookup().</p>
<p>btrfs_lookup btrfs_lookup_dentry btrfs_orphan_cleanup // prints that message and returns -ENOENT</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Filipe Manana (Inline Review, Reviewed-by), Boris Burkov (author) (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/14fc2404e55d99e9d3a4f95e3e825678dc2422a0-1771971643-git-boris-bur-io.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
</div>
<div class="developer-section" id="dev-dmitry-ilvokhin">
<div class="developer-header">
<h3>Dmitry Ilvokhin</h3>
<span class="active-badge">7 items</span>
</div>
<details open>
<summary>Patches Submitted <span class="count">(5)</span></summary>
<div class="activity-item ongoing">
<span class="ongoing-badge">Ongoing</span>
<span class="submitted-date">Submitted 2026-02-11</span>
<a href="https://lore.kernel.org/all/cover.1770821420.git.d@ilvokhin.com/" target="_blank" class="item-link">[PATCH 0/4] mm: zone lock tracepoint instrumentation</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>Zone lock contention can significantly impact allocation and reclaim latency, as it is a central synchronization point in the page allocator and reclaim paths. Improved visibility into its behavior is therefore important for diagnosing performance issues in memory-intensive workloads.</p>
<p>On some production workloads at Meta, we have observed noticeable zone lock contention. Deeper analysis of lock holders and waiters is currently difficult with existing instrumentation.</p>
<p>While generic lock contention_begin/contention_end tracepoints cover the slow path, they do not provide sufficient visibility into lock hold times. In particular, the lack of a release-side event makes it difficult to identify long lock holders and correlate them with waiters. As a result, distinguishing between short bursts of contention and pathological long hold times requires additional instrumentation.</p>
<p>This patch series adds dedicated tracepoint instrumentation to zone lock, following the existing mmap_lock tracing model.</p>
<p>The goal is to enable detailed holder/waiter analysis and lock hold time measurements without affecting the fast path when tracing is disabled.</p>
<p>The series is structured as follows:</p>
<p>1. Introduce zone lock wrappers. 2. Mechanically convert zone lock users to the wrappers. 3. Convert compaction to use the wrappers (requires minor restructuring of compact_lock_irqsave()). 4. Add zone lock tracepoints.</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Cheatham, Benjamin (Inline Review), Shakeel Butt (Inline Review), Dmitry Ilvokhin (author) (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/cover-1770821420-git-d-ilvokhin-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item ongoing">
<span class="ongoing-badge">Ongoing</span>
<span class="submitted-date">Submitted 2026-02-11</span>
<a href="https://lore.kernel.org/all/3826dd6dc55a9c5721ec3de85f019764a6cf3222.1770821420.git.d@ilvokhin.com/" target="_blank" class="item-link">[PATCH 1/4] mm: introduce zone lock wrappers</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>Add thin wrappers around zone lock acquire/release operations. This prepares the code for future tracepoint instrumentation without modifying individual call sites.</p>
<p>Centralizing zone lock operations behind wrappers allows future instrumentation or debugging hooks to be added without touching all users.</p>
<p>No functional change intended. The wrappers are introduced in preparation for subsequent patches and are not yet used.</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Shakeel Butt (Inline Review, Acked-by), Dmitry Ilvokhin (author) (Inline Review), Steven Rostedt (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/3826dd6dc55a9c5721ec3de85f019764a6cf3222-1770821420-git-d-ilvokhin-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item ongoing">
<span class="ongoing-badge">Ongoing</span>
<span class="submitted-date">Submitted 2026-02-11</span>
<a href="https://lore.kernel.org/all/7d1ee95201a8870445556e61e47161f46ade8b3b.1770821420.git.d@ilvokhin.com/" target="_blank" class="item-link">[PATCH 2/4] mm: convert zone lock users to wrappers</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>Replace direct zone lock acquire/release operations with the newly introduced wrappers.</p>
<p>The changes are purely mechanical substitutions. No functional change intended. Locking semantics and ordering remain unchanged.</p>
<p>The compaction path is left unchanged for now and will be handled separately in the following patch due to additional non-trivial modifications.</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Shakeel Butt (Acked-by, Inline Review)</span>
<div class="review-detail-link"><a href="reviews/7d1ee95201a8870445556e61e47161f46ade8b3b-1770821420-git-d-ilvokhin-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item ongoing">
<span class="ongoing-badge">Ongoing</span>
<span class="submitted-date">Submitted 2026-02-11</span>
<a href="https://lore.kernel.org/all/3462b7fd26123c69ccdd121a894da14bbfafdd9d.1770821420.git.d@ilvokhin.com/" target="_blank" class="item-link">[PATCH 3/4] mm: convert compaction to zone lock wrappers</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>Compaction uses compact_lock_irqsave(), which currently operates on a raw spinlock_t pointer so that it can be used for both zone-&gt;lock and lru_lock. Since zone lock operations are now wrapped, compact_lock_irqsave() can no longer operate directly on a spinlock_t when the lock belongs to a zone.</p>
<p>Introduce struct compact_lock to abstract the underlying lock type. The structure carries a lock type enum and a union holding either a zone pointer or a raw spinlock_t pointer, and dispatches to the appropriate lock/unlock helper.</p>
<p>No functional change intended.</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Cheatham, Benjamin (Inline Review), Dmitry Ilvokhin (author) (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/3462b7fd26123c69ccdd121a894da14bbfafdd9d-1770821420-git-d-ilvokhin-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item ongoing">
<span class="ongoing-badge">Ongoing</span>
<span class="submitted-date">Submitted 2026-02-11</span>
<a href="https://lore.kernel.org/all/1d2a7778aeee03abf8a11528ce8d4926ca78e9b4.1770821420.git.d@ilvokhin.com/" target="_blank" class="item-link">[PATCH 4/4] mm: add tracepoints for zone lock</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>Add tracepoint instrumentation to zone lock acquire/release operations via the previously introduced wrappers.</p>
<p>The implementation follows the mmap_lock tracepoint pattern: a lightweight inline helper checks whether the tracepoint is enabled and calls into an out-of-line helper when tracing is active. When CONFIG_TRACING is disabled, helpers compile to empty inline stubs.</p>
<p>The fast path is unaffected when tracing is disabled.</p>
</div>
</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(2)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3I0ADTAdCN6UmN@shell.ilvokhin.com/" target="_blank" class="item-link">Re: [PATCH 3/4] mm: convert compaction to zone lock wrappers</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3BLKzhIIZvkbwL@shell.ilvokhin.com/" target="_blank" class="item-link">Re: [PATCH 1/4] mm: introduce zone lock wrappers</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="review-comments">
<div class="review-comments-header">0 participants</div>
<div class="review-comment">
<div class="review-comment-header">
<span class="review-author">Shakeel Butt</span>
<span class="inline-review-badge">Inline Review</span>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
<div class="review-comment-text">Cool, thanks for the explanation.</div>
<div class="review-comment-footer">
<details class="raw-body-toggle">
<summary>Show original comment</summary>
<pre class="raw-body-text">On Tue, Feb 24, 2026 at 03:18:04PM +0000, Dmitry Ilvokhin wrote:
&gt; On Mon, Feb 23, 2026 at 02:36:01PM -0800, Shakeel Butt wrote:
&gt; &gt; On Wed, Feb 11, 2026 at 03:22:13PM +0000, Dmitry Ilvokhin wrote:
&gt; &gt; &gt; Add thin wrappers around zone lock acquire/release operations. This
&gt; &gt; &gt; prepares the code for future tracepoint instrumentation without
&gt; &gt; &gt; modifying individual call sites.
&gt; &gt; &gt; 
&gt; &gt; &gt; Centralizing zone lock operations behind wrappers allows future
&gt; &gt; &gt; instrumentation or debugging hooks to be added without touching
&gt; &gt; &gt; all users.
&gt; &gt; &gt; 
&gt; &gt; &gt; No functional change intended. The wrappers are introduced in
&gt; &gt; &gt; preparation for subsequent patches and are not yet used.
&gt; &gt; &gt; 
&gt; &gt; &gt; Signed-off-by: Dmitry Ilvokhin &lt;d@ilvokhin.com&gt;
&gt; &gt; &gt; ---
&gt; &gt; &gt;  MAINTAINERS               |  1 +
&gt; &gt; &gt;  include/linux/zone_lock.h | 38 ++++++++++++++++++++++++++++++++++++++
&gt; &gt; &gt;  2 files changed, 39 insertions(+)
&gt; &gt; &gt;  create mode 100644 include/linux/zone_lock.h
&gt; &gt; &gt; 
&gt; &gt; &gt; diff --git a/MAINTAINERS b/MAINTAINERS
&gt; &gt; &gt; index b4088f7290be..680c9ae02d7e 100644
&gt; &gt; &gt; --- a/MAINTAINERS
&gt; &gt; &gt; +++ b/MAINTAINERS
&gt; &gt; &gt; @@ -16498,6 +16498,7 @@ F:	include/linux/pgtable.h
&gt; &gt; &gt;  F:	include/linux/ptdump.h
&gt; &gt; &gt;  F:	include/linux/vmpressure.h
&gt; &gt; &gt;  F:	include/linux/vmstat.h
&gt; &gt; &gt; +F:	include/linux/zone_lock.h
&gt; &gt; &gt;  F:	kernel/fork.c
&gt; &gt; &gt;  F:	mm/Kconfig
&gt; &gt; &gt;  F:	mm/debug.c
&gt; &gt; &gt; diff --git a/include/linux/zone_lock.h b/include/linux/zone_lock.h
&gt; &gt; &gt; new file mode 100644
&gt; &gt; &gt; index 000000000000..c531e26280e6
&gt; &gt; &gt; --- /dev/null
&gt; &gt; &gt; +++ b/include/linux/zone_lock.h
&gt; &gt; &gt; @@ -0,0 +1,38 @@
&gt; &gt; &gt; +/* SPDX-License-Identifier: GPL-2.0 */
&gt; &gt; &gt; +#ifndef _LINUX_ZONE_LOCK_H
&gt; &gt; &gt; +#define _LINUX_ZONE_LOCK_H
&gt; &gt; &gt; +
&gt; &gt; &gt; +#include &lt;linux/mmzone.h&gt;
&gt; &gt; &gt; +#include &lt;linux/spinlock.h&gt;
&gt; &gt; &gt; +
&gt; &gt; &gt; +static inline void zone_lock_init(struct zone *zone)
&gt; &gt; &gt; +{
&gt; &gt; &gt; +	spin_lock_init(&amp;zone-&gt;lock);
&gt; &gt; &gt; +}
&gt; &gt; &gt; +
&gt; &gt; &gt; +#define zone_lock_irqsave(zone, flags)				\
&gt; &gt; &gt; +do {								\
&gt; &gt; &gt; +	spin_lock_irqsave(&amp;(zone)-&gt;lock, flags);		\
&gt; &gt; &gt; +} while (0)
&gt; &gt; &gt; +
&gt; &gt; &gt; +#define zone_trylock_irqsave(zone, flags)			\
&gt; &gt; &gt; +({								\
&gt; &gt; &gt; +	spin_trylock_irqsave(&amp;(zone)-&gt;lock, flags);		\
&gt; &gt; &gt; +})
&gt; &gt; 
&gt; &gt; Any reason you used macros for above two and inlined functions for remaining?
&gt; &gt;
&gt; 
&gt; The reason for using macros in those two cases is that they need to
&gt; modify the flags variable passed by the caller, just like
&gt; spin_lock_irqsave() and spin_trylock_irqsave() do. I followed the same
&gt; convention here.
&gt; 
&gt; If we used normal inline functions instead, we would need to pass a
&gt; pointer to flags, which would change the call sites and diverge from the
&gt; existing *_irqsave() locking pattern.
&gt; 
&gt; There is also a difference between zone_lock_irqsave() and
&gt; zone_trylock_irqsave() implementations: the former is implemented as a
&gt; do { } while (0) macro since it does not return a value, while the
&gt; latter uses a GCC extension in order to return the trylock result. This
&gt; matches spin_lock_* convention as well.
&gt; 

Cool, thanks for the explanation.
</pre>
</details>
</div>
</div>
</div>
</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
</div>
<div class="developer-section" id="dev-gregory-price">
<div class="developer-header">
<h3>Gregory Price</h3>
<span class="active-badge">10 items</span>
</div>
<details open>
<summary>Patches Submitted <span class="count">(2)</span></summary>
<div class="activity-item ongoing">
<span class="ongoing-badge">Ongoing</span>
<span class="submitted-date">Submitted 2026-02-21</span>
<a href="https://lore.kernel.org/all/20260221043013.1420169-1-gourry@gourry.net/" target="_blank" class="item-link">[PATCH 1/2] cxl/region: fix region leak when attach_target fails in cxl_add_to_region</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>cxl_add_to_region() ignores the return value of attach_target().  When attach_target() fails (e.g. cxl_port_setup_targets() returns -ENXIO), the auto-discovered region remains registered with its HPA resource consumed but never reaches COMMIT state.  Subsequent region creation attempts fail with -ENOSPC because the HPA range is already reserved.</p>
<p>Track whether this call to cxl_add_to_region() created the region, and call drop_region() on attach_target() failure to unregister it and release the HPA resource.  Pre-existing regions are left alone since other endpoints may already be attached.</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Gregory Price (author) (Inline Review), Alison Schofield (Inline Review), Alejandro Palau (Reviewed-by, Inline Review)</span>
<div class="review-detail-link"><a href="reviews/20260221043013-1420169-1-gourry-gourry-net.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item ongoing">
<span class="ongoing-badge">Ongoing</span>
<span class="submitted-date">Submitted 2026-02-22</span>
<a href="https://lore.kernel.org/all/20260222084842.1824063-28-gourry@gourry.net/" target="_blank" class="item-link">[RFC PATCH v4 27/27] cxl: add cxl_compression PCI driver</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>Add a generic CXL type-3 driver for compressed memory controllers.</p>
<p>The driver provides an alternative PCI binding that converts CXL RAM regions to private-node sysram and registers them with the CRAM subsystem for transparent demotion/promotion.</p>
<p>Probe flow: 1. cxl_pci_type3_probe_init() for standard CXL device setup 2. Discover/convert auto-RAM regions or create a RAM region 3. Convert to private-node sysram via devm_cxl_add_sysram() 4. Register with CRAM via cram_register_private_node()</p>
<p>Page flush pipeline: When a CRAM folio is freed, the CRAM free_folio   callback buffers it into a per-CPU RCU-protected flush buffer to offload the operation.</p>
<p>A periodic kthread swaps the per-CPU buffers under RCU, then sends batched Sanitize-Zero commands so the device can zero pages.</p>
<p>A flush_record bitmap tracks in-flight pages to avoid re-buffering on the second free_folio entry after folio_put().</p>
<p>Overflow from full buffers is handled by a per-CPU workqueue fallback.</p>
<p>Watermark interrupts: MSI-X vector 12 - delivers &quot;Low&quot; watermark interrupts MSI-X vector 13 - delivers &quot;High&quot; watermark interrupts This adjusts CRAM pressure: Low  - increases pressure. High - reduces pressure.</p>
</div>
</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(4)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3X3Jni0HZXZMVl@gourry-fedora-PF4VCD3F/" target="_blank" class="item-link">Re: [LSF/MM/BPF TOPIC][RFC PATCH v4 00/27] Private Memory Nodes (w/ Compressed RAM)</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3BEn_73Rk8Fn7L@gourry-fedora-PF4VCD3F/" target="_blank" class="item-link">Re: [LSF/MM/BPF TOPIC][RFC PATCH v4 00/27] Private Memory Nodes (w/ Compressed RAM)</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Gregory Price (author) (Inline Review), Matthew Brost (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/aZ3BEn-73Rk8Fn7L-gourry-fedora-PF4VCD3F.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3ysV-k1UisnPRG@gourry-fedora-PF4VCD3F/" target="_blank" class="item-link">Re: [RFC PATCH 0/6] mm/memcontrol: Make memcg limits tier-aware</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Kaiyang Zhao (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/aZ3ysV-k1UisnPRG-gourry-fedora-PF4VCD3F.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3D_8GJit3FYhQc@gourry-fedora-PF4VCD3F/" target="_blank" class="item-link">Re: [RFC PATCH v5 00/10] mm: Hot page tracking and promotion infrastructure</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Bharata Rao (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/aZ3D-8GJit3FYhQc-gourry-fedora-PF4VCD3F.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(4)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3MoKZgs26C2PrZ@gourry-fedora-PF4VCD3F/" target="_blank" class="item-link">Re: [PATCH v1 0/3] cxl region changes for Type2 support</a>
<span class="ack-badge">Tested-by</span>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3MdkPQf-5aXZ9j@gourry-fedora-PF4VCD3F/" target="_blank" class="item-link">Re: [PATCH v1 3/3] cxl/region: Factor out interleave granularity setup</a>
<span class="ack-badge">Reviewed-by</span>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3MUyOy2JgavERa@gourry-fedora-PF4VCD3F/" target="_blank" class="item-link">Re: [PATCH v1 2/3] cxl/region: Factor out interleave ways setup</a>
<span class="ack-badge">Reviewed-by</span>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3MHVcheVVoooiC@gourry-fedora-PF4VCD3F/" target="_blank" class="item-link">Re: [PATCH v1 1/3] cxl: Make region type based on endpoint type</a>
<span class="ack-badge">Reviewed-by</span>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
</details>
</div>
<div class="developer-section" id="dev-jeff-layton">
<div class="developer-header">
<h3>Jeff Layton</h3>
<span class="active-badge">5 items</span>
</div>
<details open>
<summary>Patches Submitted <span class="count">(2)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/20260224-nfsd-deleg-lock-v1-1-1df17c1daa47@kernel.org/" target="_blank" class="item-link">[PATCH] nfsd: convert global state_lock to per-net deleg_lock</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>Replace the global state_lock spinlock with a per-nfsd_net deleg_lock. The state_lock was only used to protect delegation lifecycle operations (the del_recall_lru list and delegation hash/unhash), all of which are scoped to a single network namespace. Making the lock per-net removes a source of unnecessary contention between containers.</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Chuck Lever (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/20260224-nfsd-deleg-lock-v1-1-1df17c1daa47-kernel-org.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/20260224-v4-0-lock-overflow-v1-1-22beeaf5cf6b@kernel.org/" target="_blank" class="item-link">[PATCH] nfsd: fix heap overflow in NFSv4.0 LOCK replay cache</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>The NFSv4.0 replay cache uses a fixed 112-byte inline buffer (rp_ibuf[NFSD4_REPLAY_ISIZE]) to store encoded operation responses. This size was calculated based on OPEN responses and does not account for LOCK denied responses, which include the conflicting lock owner as a variable-length field up to 1024 bytes (NFS4_OPAQUE_LIMIT).</p>
<p>When a LOCK operation is denied due to a conflict with an existing lock that has a large owner, nfsd4_encode_operation() copies the full encoded response into the undersized replay buffer via read_bytes_from_xdr_buf() with no bounds check. This results in a slab-out-of-bounds write of up to 944 bytes past the end of the buffer, corrupting adjacent heap memory.</p>
<p>This can be triggered remotely by an unauthenticated attacker with two cooperating NFSv4.0 clients: one sets a lock with a large owner string, then the other requests a conflicting lock to provoke the denial.</p>
<p>We could fix this by increasing NFSD4_REPLAY_ISIZE to allow for a full opaque, but that would increase the size of every stateowner, when most lockowners are not that large.</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Chuck Lever (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/20260224-v4-0-lock-overflow-v1-1-22beeaf5cf6b-kernel-org.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(3)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/f16c1806a705e08252b1b39ea44b1de1e6be17d6.camel@kernel.org/" target="_blank" class="item-link">Re: [PATCH] nfsd: use dynamic allocation for oversized NFSv4.0 replay cache</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/5c6b6e52619caf720912639697af5b388a3ea79a.camel@kernel.org/" target="_blank" class="item-link">Re: [PATCH] nfsd: use dynamic allocation for oversized NFSv4.0 replay cache</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Chuck Lever (Inline Review), Jeff Layton (author) (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/5c6b6e52619caf720912639697af5b388a3ea79a-camel-kernel-org.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/887c1ca78b34974160dee3ce7f25d6d077da93ab.camel@kernel.org/" target="_blank" class="item-link">Re: [PATCH] nfsd: use dynamic allocation for oversized NFSv4.0 replay cache</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Chuck Lever (Inline Review), Jeff Layton (author) (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/887c1ca78b34974160dee3ce7f25d6d077da93ab-camel-kernel-org.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
</div>
<div class="developer-section" id="dev-joanne-koong">
<div class="developer-header">
<h3>Joanne Koong</h3>
<span class="active-badge">7 items</span>
</div>
<details open>
<summary>Patches Submitted <span class="count">(3)</span></summary>
<div class="activity-item ongoing">
<span class="ongoing-badge">Ongoing</span>
<span class="submitted-date">Submitted 2026-02-10</span>
<a href="https://lore.kernel.org/all/20260210002852.1394504-12-joannelkoong@gmail.com/" target="_blank" class="item-link">[PATCH v1 11/11] io_uring/cmd: set selected buffer index in __io_uring_cmd_done()</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>When uring_cmd operations select a buffer, the completion queue entry should indicate which buffer was selected.</p>
<p>Set IORING_CQE_F_BUFFER on the completed entry and encode the buffer index if a buffer was selected.</p>
<p>This will be needed for fuse, which needs to relay to userspace which selected buffer contains the data.</p>
</div>
</div>
<div class="activity-item ongoing">
<span class="ongoing-badge">Ongoing</span>
<span class="submitted-date">Submitted 2026-02-20</span>
<a href="https://lore.kernel.org/all/CAJnrk1YA9hk5Mv0BXFe+TcWLXsNLpWtcA-gy+k03zDt4f0z7zg@mail.gmail.com/" target="_blank" class="item-link">[PATCH] io_uring/rsrc: clean up buffer cloning arg validation (for 6.18-stable tree)</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>Commit id upstream: b8201b50e403815f941d1c6581a27fdbfe7d0fd4 (&quot;io_uring/rsrc: clean up buffer cloning arg validation&quot;) Link to the patch: https://lore.kernel.org/io-uring/20251204215116.2642044-1-joannelkoong@gmail.com/#t Kernel version to apply it to: 6.18-stable tree</p>
<p>Hi stable@,</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Jens Axboe (Inline Review), Greg Kroah-Hartman (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/CAJnrk1YA9hk5Mv0BXFe-TcWLXsNLpWtcA-gy-k03zDt4f0z7zg-mail-gmail-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item ongoing">
<span class="ongoing-badge">Ongoing</span>
<span class="submitted-date">Submitted 2026-02-19</span>
<a href="https://lore.kernel.org/all/20260219003911.344478-1-joannelkoong@gmail.com/" target="_blank" class="item-link">[PATCH v1 0/1] iomap: don&#x27;t mark folio uptodate if read IO has bytes pending</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>This is a fix for this scenario:</p>
</div>
</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(2)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/CAJnrk1YCh=CsFmxGwnK37d-31ravAOR8uLH+CrhpFzPX=ZTxUw@mail.gmail.com/" target="_blank" class="item-link">Re: [PATCH 1/5] fuse: flush pending FUSE_RELEASE requests before sending FUSE_DESTROY</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/CAJnrk1a1FAARebZ0Aqw18zxtOy8WTMb2UfcAK6jQaigXiZbTfQ@mail.gmail.com/" target="_blank" class="item-link">Re: [PATCH v1 03/11] io_uring/kbuf: add support for kernel-managed buffer rings</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(2)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/CAJnrk1ZZ=1jF4DUF-NyedLP-BJM_5d3s0zfD4oHGyR51PM9E7Q@mail.gmail.com/" target="_blank" class="item-link">Re: [PATCH 1/5] fuse: flush pending FUSE_RELEASE requests before sending FUSE_DESTROY</a>
<span class="ack-badge">Reviewed-by</span>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Darrick Wong (Inline Review), Joanne Koong (author) (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/CAJnrk1ZZ-1jF4DUF-NyedLP-BJM-5d3s0zfD4oHGyR51PM9E7Q-mail-gmail-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/CAJnrk1bEm=pe2M367CsbQNYyUEdXCVzAyboqqHnSCxx7fxZKZA@mail.gmail.com/" target="_blank" class="item-link">Re: [PATCH 2/5] fuse: quiet down complaints in fuse_conn_limit_write</a>
<span class="ack-badge">Reviewed-by</span>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
</details>
</div>
<div class="developer-section" id="dev-johannes-weiner">
<div class="developer-header">
<h3>Johannes Weiner</h3>
<span class="active-badge">1 items</span>
</div>
<details>
<summary>Patches Submitted <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(1)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3KrfD_6vfxjRcs@cmpxchg.org/" target="_blank" class="item-link">Re: [PATCH RFC 08/15] mm, swap: store and check memcg info in the swap table</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
</div>
<div class="developer-section" id="dev-joshua-hahn">
<div class="developer-header">
<h3>Joshua Hahn</h3>
<span class="active-badge">2 items</span>
</div>
<details open>
<summary>Patches Submitted <span class="count">(1)</span></summary>
<div class="activity-item ongoing">
<span class="ongoing-badge">Ongoing</span>
<span class="submitted-date">Submitted 2026-02-24</span>
<a href="https://lore.kernel.org/all/20260223223830.586018-1-joshua.hahnjy@gmail.com/" target="_blank" class="item-link">[RFC PATCH 0/6] mm/memcontrol: Make memcg limits tier-aware</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>Memory cgroups provide an interface that allow multiple workloads on a host to co-exist, and establish both weak and strong memory isolation guarantees. For large servers and small embedded systems alike, memcgs provide an effective way to provide a baseline quality of service for protected workloads.</p>
<p>This works, because for the most part, all memory is equal (except for zram / zswap). Restricting a cgroup&#x27;s memory footprint restricts how much it can hurt other workloads competing for memory. Likewise, setting memory.low or memory.min limits can provide weak and strong guarantees to the performance of a cgroup.</p>
<p>However, on systems with tiered memory (e.g. CXL / compressed memory), the quality of service guarantees that memcg limits enforced become less effective, as memcg has no awareness of the physical location of its charged memory. In other words, a workload that is well-behaved within its memcg limits may still be hurting the performance of other well-behaving workloads on the system by hogging more than its &quot;fair share&quot; of toptier memory.</p>
<p>Introduce tier-aware memcg limits, which scale memory.low/high to reflect the ratio of toptier:total memory the cgroup has access.</p>
<p>Take the following scenario as an example: On a host with 3:1 toptier:lowtier, say 150G toptier, and 50Glowtier, setting a cgroup&#x27;s limits to: memory.min:  15G memory.low:  20G memory.high: 40G memory.max:  50G</p>
<p>Will be enforced at the toptier as: memory.min:          15G memory.toptier_low:  15G (20 * 150/200) memory.toptier_high: 30G (40 * 150/200) memory.max:          50G</p>
<p>Let&#x27;s say that there are 4 such cgroups on the host. Previously, it would be possible for 3 hosts to completely take over all of DRAM, while one cgroup could only access the lowtier memory. In the perspective of a tier-agnostic memcg limit enforcement, the three cgroups are all well-behaved, consuming within their memory limits.</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Michal Hocko (Inline Review), Joshua Hahn (author) (Inline Review), Gregory Price (Inline Review), Kaiyang Zhao (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/20260223223830-586018-1-joshua-hahnjy-gmail-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(1)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/20260224161357.2622501-1-joshua.hahnjy@gmail.com/" target="_blank" class="item-link">Re: [RFC PATCH 0/6] mm/memcontrol: Make memcg limits tier-aware</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="review-comments">
<div class="review-comments-header">0 participants</div>
<div class="review-comment">
<div class="review-comment-header">
<span class="review-author">Gregory Price</span>
<span class="inline-review-badge">Inline Review</span>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
<div class="review-comment-text">Just injecting a few points here (disclosure: I have been in the development loop for this feature) Yes / No.  This makes the assumption that you always want this. Barring a minimum Quality of Service mechanism (as Joshua explains) this reduces the usefulness of a secondary tier of memory. Services will just prefer not to be deployed to these kinds of machines because the performance variance is too high.</div>
<div class="review-comment-footer">
<details class="raw-body-toggle">
<summary>Show original comment</summary>
<pre class="raw-body-text">On Tue, Feb 24, 2026 at 08:13:56AM -0800, Joshua Hahn wrote:
&gt; ... snip ...

Just injecting a few points here
(disclosure: I have been in the development loop for this feature)

&gt; 
&gt; &gt; Otherwise promotions would make sure to that we have the most active
&gt; &gt; memory in the top tier.
&gt; 

Yes / No.  This makes the assumption that you always want this.

Barring a minimum Quality of Service mechanism (as Joshua explains)
this reduces the usefulness of a secondary tier of memory.

Services will just prefer not to be deployed to these kinds of
machines because the performance variance is too high.

&gt; 
&gt; &gt; Is this typical in real life configurations?
&gt; 
&gt; I would say so. I think that the two examples above are realistic
&gt; scenarios that cloud providers and hyperscalers might face on tiered systems.
&gt; 

The answer is unequivocally yes.

Lacking tier-awareness is actually a huge blocker for deploying mixed
workloads on large, dense memory systems with multiple tiers (2+).

Technically we&#x27;re already at 4-ish tiers: DDR, CXL, ZSWAP, SWAP.

We have zswap/swap controls in cgroups already, we just lack that same
control for coherent memory tiers.  This tries to use the existing nobs
(max/high/low/min) to do what they already do - just proportionally.

~Gregory
</pre>
</details>
</div>
</div>
<div class="review-comment">
<div class="review-comment-header">
<span class="review-author">Kaiyang Zhao</span>
<span class="inline-review-badge">Inline Review</span>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
<div class="review-comment-text">recently released a preprint paper on arXiv that includes case studies with a few of Meta&#x27;s production workloads using a prototype version of the patches. The results confirmed that co-colocated workloads can have working set sizes exceeding the limited top-tier memory capacity given today&#x27;s server memory shapes and workload stacking settings, causing contention of top-tier...</div>
<div class="review-comment-footer">
<details class="raw-body-toggle">
<summary>Show original comment</summary>
<pre class="raw-body-text">On Tue, Feb 24, 2026 at 01:49:21PM -0500, Gregory Price wrote:
&gt; 
&gt; &gt; 
&gt; &gt; &gt; Is this typical in real life configurations?
&gt; &gt; 
&gt; &gt; I would say so. I think that the two examples above are realistic
&gt; &gt; scenarios that cloud providers and hyperscalers might face on tiered systems.
&gt; &gt; 
&gt; 
&gt; The answer is unequivocally yes.
&gt; 
&gt; Lacking tier-awareness is actually a huge blocker for deploying mixed
&gt; workloads on large, dense memory systems with multiple tiers (2+).

Hello! I&#x27;m the author of the RFC in 2024. Just want to add that we&#x27;ve
recently released a preprint paper on arXiv that includes case studies
with a few of Meta&#x27;s production workloads using a prototype version of
the patches.

The results confirmed that co-colocated workloads can have working set
sizes exceeding the limited top-tier memory capacity given today&#x27;s
server memory shapes and workload stacking settings, causing contention
of top-tier memory. Workloads see significant variations in tail
latency and throughput depending on the share of top-tier tier memory
they get, which this patch set will alleviate.

Best,
Kaiyang

[1] https://arxiv.org/pdf/2602.08800

</pre>
</details>
</div>
</div>
</div>
</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
</div>
<div class="developer-section" id="dev-jp-kobryn">
<div class="developer-header">
<h3>JP Kobryn</h3>
<span class="inactive-badge">No activity</span>
</div>
<details>
<summary>Patches Submitted <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
</div>
<div class="developer-section" id="dev-kiryl-shutsemau">
<div class="developer-header">
<h3>Kiryl Shutsemau</h3>
<span class="inactive-badge">No activity</span>
</div>
<details>
<summary>Patches Submitted <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
</div>
<div class="developer-section" id="dev-leo-martins">
<div class="developer-header">
<h3>Leo Martins</h3>
<span class="active-badge">4 items</span>
</div>
<details open>
<summary>Patches Submitted <span class="count">(4)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/cover.1771884128.git.loemra.dev@gmail.com/" target="_blank" class="item-link">[PATCH v3 0/3] btrfs: fix COW amplification under memory pressure</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>I&#x27;ve been investigating a pattern where COW amplification under memory pressure exhausts the transaction block reserve, leading to spurious ENOSPCs on filesystems with plenty of unallocated space.</p>
<p>The pattern is:</p>
<p>1. btrfs_search_slot() begins tree traversal with cow=1 2. Node at level N needs COW (old generation or WRITTEN flag set) 3. btrfs_cow_block() allocates new block, copies data, updates parent pointer 4. Traversal hits a condition requiring restart (node not cached, lock contention, need higher write_lock_level) 5. btrfs_release_path() releases all locks and references 6. Memory pressure triggers writeback on the COW&#x27;d block 7. lock_extent_buffer_for_io() clears EXTENT_BUFFER_DIRTY and sets BTRFS_HEADER_FLAG_WRITTEN 8. goto again - traversal restarts from root 9. Traversal reaches the same tree node 10. should_cow_block() sees WRITTEN flag, returns true 11. btrfs_cow_block() allocates yet another new block, copies data, updates parent pointer again, consuming another reservation 12. Steps 4-11 repeat under sustained memory pressure</p>
<p>This series fixes the problem with two complementary approaches:</p>
<p>Patch 1 implements Filipe&#x27;s suggestion of overwriting in place. When should_cow_block() encounters a WRITTEN buffer whose generation matches the current transaction, it re-dirties the buffer and returns false instead of requesting a COW. This is crash-safe because the committed superblock does not reference buffers allocated in the current transaction. Log trees, zoned devices, FORCE_COW, relocation, and buffers mid-writeback are excluded. Beyond improving the amplification bug, this is a general optimization for the entire transaction lifetime: any time writeback runs during a transaction, revisiting the same path no longer triggers unnecessary COW, reducing extent allocation overhead, memory copies, and space usage per transaction.</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Filipe Manana (Reviewed-by, Inline Review)</span>
<div class="review-detail-link"><a href="reviews/cover-1771884128-git-loemra-dev-gmail-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/4ce911a475b998ddf76951629ad203e6440ab0ca.1771884128.git.loemra.dev@gmail.com/" target="_blank" class="item-link">[PATCH v3 1/3] btrfs: skip COW for written extent buffers allocated in current transaction</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>When memory pressure causes writeback of a recently COW&#x27;d buffer, btrfs sets BTRFS_HEADER_FLAG_WRITTEN on it. Subsequent btrfs_search_slot() restarts then see the WRITTEN flag and re-COW the buffer unnecessarily, causing COW amplification that can exhaust block reservations and degrade throughput.</p>
<p>Overwriting in place is crash-safe because the committed superblock does not reference buffers allocated in the current (uncommitted) transaction, so no on-disk tree points to this block yet.</p>
<p>When should_cow_block() encounters a WRITTEN buffer whose generation matches the current transaction, instead of requesting a COW, re-dirty the buffer and re-register its range in the transaction&#x27;s dirty_pages.</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Sun YangKai (Reviewed-by, Inline Review)</span>
<div class="review-detail-link"><a href="reviews/4ce911a475b998ddf76951629ad203e6440ab0ca-1771884128-git-loemra-dev-gmail-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/cc847a35e26cc4dfad18c59e3c525cea507ff440.1771884128.git.loemra.dev@gmail.com/" target="_blank" class="item-link">[PATCH v3 2/3] btrfs: inhibit extent buffer writeback to prevent COW amplification</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>Inhibit writeback on COW&#x27;d extent buffers for the lifetime of the transaction handle, preventing background writeback from setting BTRFS_HEADER_FLAG_WRITTEN and causing unnecessary re-COW.</p>
<p>COW amplification occurs when background writeback flushes an extent buffer that a transaction handle is still actively modifying. When lock_extent_buffer_for_io() transitions a buffer from dirty to writeback, it sets BTRFS_HEADER_FLAG_WRITTEN, marking the block as having been persisted to disk at its current bytenr. Once WRITTEN is set, should_cow_block() must either COW the block again or overwrite it in place, both of which are unnecessary overhead when the buffer is still being modified by the same handle that allocated it. By inhibiting background writeback on actively-used buffers, WRITTEN is never set while a transaction handle holds a reference to the buffer, avoiding this overhead entirely.</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Sun YangKai (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/cc847a35e26cc4dfad18c59e3c525cea507ff440-1771884128-git-loemra-dev-gmail-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/18c04d9a68f64fa5e36dde196306170d0fb437d9.1771884128.git.loemra.dev@gmail.com/" target="_blank" class="item-link">[PATCH v3 3/3] btrfs: add tracepoint for search slot restart tracking</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>Add a btrfs_search_slot_restart tracepoint that fires at each restart site in btrfs_search_slot(), recording the root, tree level, and reason for the restart. This enables tracking search slot restarts which contribute to COW amplification under memory pressure.</p>
<p>The four restart reasons are: - write_lock: insufficient write lock level, need to restart with higher lock - setup_nodes: node setup returned -EAGAIN - slot_zero: insertion at slot 0 requires higher write lock level - read_block: read_block_for_search returned -EAGAIN (block not cached or lock contention)</p>
<p>COW counts are already tracked by the existing trace_btrfs_cow_block() tracepoint. The per-restart-site tracepoint avoids counter overhead in the critical path when tracepoints are disabled, and provides richer per-event information that bpftrace scripts can aggregate into counts, histograms, and per-root breakdowns.</p>
</div>
</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
</div>
<div class="developer-section" id="dev-mark-harmstone">
<div class="developer-header">
<h3>Mark Harmstone</h3>
<span class="active-badge">1 items</span>
</div>
<details open>
<summary>Patches Submitted <span class="count">(1)</span></summary>
<div class="activity-item ongoing">
<span class="ongoing-badge">Ongoing</span>
<span class="submitted-date">Submitted 2026-02-17</span>
<a href="https://lore.kernel.org/all/20260217185335.21013-1-mark@harmstone.com/" target="_blank" class="item-link">[PATCH] btrfs: fix error message in btrfs_validate_super()</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="patch-summary">
<p>Fix the superblock offset mismatch error message in btrfs_validate_super(): we changed it so that it considers all the superblocks, but the message still assumes we&#x27;re only looking at the first one.</p>
<p>The change from %u to %llu is because we&#x27;re changing from a constant to a u64.</p>
</div>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Qu Wenruo (Reviewed-by, Inline Review), David Sterba (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/20260217185335-21013-1-mark-harmstone-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
</div>
<div class="developer-section" id="dev-nhat-pham">
<div class="developer-header">
<h3>Nhat Pham</h3>
<span class="active-badge">1 items</span>
</div>
<details>
<summary>Patches Submitted <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(1)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/CAKEwX=NjRGxjQuvAnRoom=Ac_YptspMk1pwoq-2on46f1meuyw@mail.gmail.com/" target="_blank" class="item-link">Re: [PATCH RFC 00/15] mm, swap: swap table phase IV with dynamic ghost swapfile</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
</div>
<div class="developer-section" id="dev-rik-van-riel">
<div class="developer-header">
<h3>Rik van Riel</h3>
<span class="active-badge">4 items</span>
</div>
<details>
<summary>Patches Submitted <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(2)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/58e1883fe084d8284dac68dcd570f5a6c56c0abc.camel@surriel.com/" target="_blank" class="item-link">Re: [PATCH 3/5] mm: add a batched helper to clear the young flag for large folios</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Baolin Wang (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/58e1883fe084d8284dac68dcd570f5a6c56c0abc-camel-surriel-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/b3c1c739c233ccb32945ccaffdaf25fd3f96dd59.camel@surriel.com/" target="_blank" class="item-link">Re: [PATCH 2/5] mm: rmap: add a ZONE_DEVICE folio warning in folio_referenced()</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Baolin Wang (Inline Review), David (Arm) (Acked-by, Inline Review)</span>
<div class="review-detail-link"><a href="reviews/b3c1c739c233ccb32945ccaffdaf25fd3f96dd59-camel-surriel-com.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(2)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/5957cdb584cad9007a58f43fb5a1c3b737fb0159.camel@surriel.com/" target="_blank" class="item-link">Re: [PATCH 4/5] mm: support batched checking of the young flag for MGLRU</a>
<span class="ack-badge">Reviewed-by</span>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/01f4ffab0da9e4326a78f8b6eedce23dfb115e7a.camel@surriel.com/" target="_blank" class="item-link">Re: [PATCH 1/5] mm: use inline helper functions instead of ugly macros</a>
<span class="ack-badge">Reviewed-by</span>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
</details>
</div>
<div class="developer-section" id="dev-shakeel-butt">
<div class="developer-header">
<h3>Shakeel Butt</h3>
<span class="active-badge">4 items</span>
</div>
<details>
<summary>Patches Submitted <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(3)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ0oXHNMe7_3P9OT@linux.dev/" target="_blank" class="item-link">Re: [PATCH RFC 06/15] memcg, swap: reparent the swap entry on swapin if swapout cgroup is dead</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Kairui Song (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/aZ0oXHNMe7-3P9OT-linux-dev.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ2zPzyoFUUNWdJ7@linux.dev/" target="_blank" class="item-link">Re: [PATCH] mm: allow __GFP_RETRY_MAYFAIL in vmalloc</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
<div class="review-comments-compact">
<span class="review-comments-header">0 participants</span>
<span class="reviewer-list"> &mdash; Christoph Hellwig (Inline Review), Michal Hocko (Inline Review)</span>
<div class="review-detail-link"><a href="reviews/aZ2zPzyoFUUNWdJ7-linux-dev.html#2026-02-24">View review comments &rarr;</a></div>
</div>
</div>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3EE4JVDghZSq59@linux.dev/" target="_blank" class="item-link">Re: [PATCH 1/4] mm: introduce zone lock wrappers</a>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(1)</span></summary>
<div class="activity-item">
<a href="https://lore.kernel.org/all/aZ3EQRZ1XRLsGlzX@linux.dev/" target="_blank" class="item-link">Re: [PATCH 1/4] mm: introduce zone lock wrappers</a>
<span class="ack-badge">Acked-by</span>
<span class="badge" style="color:#383d41;background:#e2e3e5">Neutral</span>
<span class="analysis-source-badge" style="color:#6c4b00;background:#ffeeba" title="Analysis source: Heuristic">Heuristic</span>
</div>
</details>
</div>
<div class="developer-section" id="dev-usama-arif">
<div class="developer-header">
<h3>Usama Arif</h3>
<span class="inactive-badge">No activity</span>
</div>
<details>
<summary>Patches Submitted <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Discussions / RFCs <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Reviews Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
<details>
<summary>Acks / Tags Given <span class="count">(0)</span></summary>
<div class="no-activity">No activity</div>
</details>
</div>

    <footer>
        Generated in 157.1s
        &bull; 16 developers tracked
        &bull; Data from lore.kernel.org
        &bull; Heuristic analysis
        
    </footer>
</body>
</html>