{
  "thread_id": "20260224-nfsd-deleg-lock-v1-1-1df17c1daa47@kernel.org",
  "subject": "[PATCH] nfsd: convert global state_lock to per-net deleg_lock",
  "url": "https://lore.kernel.org/all/20260224-nfsd-deleg-lock-v1-1-1df17c1daa47@kernel.org/",
  "dates": {
    "2026-02-24": {
      "report_file": "2026-02-24.html",
      "developer": "Jeff Layton",
      "reviews": [
        {
          "author": "Chuck Lever",
          "summary": "From: Chuck Lever <chuck.lever@oracle.com> Applied to nfsd-testing with minor changes, thanks! [1/1] nfsd: convert global state_lock to per-net deleg_lock commit: 87d8659010fe5ba78759ad7b8780656f1c3d350a",
          "sentiment": "positive",
          "sentiment_signals": [
            "applied"
          ],
          "has_inline_review": true,
          "tags_given": [],
          "analysis_source": "heuristic",
          "raw_body": "From: Chuck Lever <chuck.lever@oracle.com>\n\nOn Tue, 24 Feb 2026 08:28:11 -0500, Jeff Layton wrote:\n> Replace the global state_lock spinlock with a per-nfsd_net deleg_lock.\n> The state_lock was only used to protect delegation lifecycle operations\n> (the del_recall_lru list and delegation hash/unhash), all of which are\n> scoped to a single network namespace. Making the lock per-net removes\n> a source of unnecessary contention between containers.\n> \n> \n> [...]\n\nApplied to nfsd-testing with minor changes, thanks!\n\n[1/1] nfsd: convert global state_lock to per-net deleg_lock\n      commit: 87d8659010fe5ba78759ad7b8780656f1c3d350a\n\n--\nChuck Lever\n\n\n",
          "reply_to": "",
          "message_date": "2026-02-24",
          "message_id": ""
        }
      ],
      "analysis_source": "heuristic",
      "patch_summary": "Replace the global state_lock spinlock with a per-nfsd_net deleg_lock. The state_lock was only used to protect delegation lifecycle operations (the del_recall_lru list and delegation hash/unhash), all of which are scoped to a single network namespace. Making the lock per-net removes a source of unnecessary contention between containers."
    }
  }
}