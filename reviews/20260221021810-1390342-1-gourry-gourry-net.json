{
  "thread_id": "20260221021810.1390342-1-gourry@gourry.net",
  "subject": "[PATCH] cxl/core: fix test_bit misuse with CXL_DECODER_F_ bitmask flags",
  "url": "https://lore.kernel.org/all/20260221021810.1390342-1-gourry@gourry.net/",
  "dates": {
    "2026-02-21": {
      "report_file": "2026-02-21_ollama_llama3.1-8b.html",
      "developer": "Gregory Price",
      "reviews": [
        {
          "author": "Benjamin Cheatham",
          "summary": "Pointed out that the bug was independently discovered and previously reported by Alison Schofield in a separate patch. Requested that Gregory add a Reported-by tag to his patch.",
          "sentiment": "neutral",
          "sentiment_signals": [
            "acknowledgment of existing work"
          ],
          "has_inline_review": false,
          "tags_given": [],
          "analysis_source": "llm",
          "raw_body": "",
          "reply_to": "Gregory Price",
          "message_date": ""
        }
      ],
      "analysis_source": "llm",
      "patch_summary": "This patch fixes a bug in the CXL (Compute Express Link) driver where two bitmask flags, CXL_DECODER_F_LOCK and CXL_DECODER_F_NORMALIZED_ADDRESSING, are being passed to test_bit() instead of being used directly. The fix involves replacing these calls with direct bitmask tests."
    },
    "2026-02-23": {
      "report_file": "2026-02-23.html",
      "developer": "Gregory Price",
      "reviews": [
        {
          "author": "Dave Jiang",
          "summary": "Yeah waiting on 7.0-rc1 for cxl/fixes. I also asked her to split the patches into 2 fixes. But if you don't mind go add your review tag that'd be great! :)",
          "sentiment": "neutral",
          "sentiment_signals": [],
          "has_inline_review": true,
          "tags_given": [],
          "analysis_source": "heuristic",
          "raw_body": "\n\nOn 2/23/26 10:45 AM, Gregory Price wrote:\n> On Mon, Feb 23, 2026 at 11:33:13AM -0600, Cheatham, Benjamin wrote:\n>> On 2/20/2026 8:18 PM, Gregory Price wrote:\n>>> CXL_DECODER_F_LOCK (BIT(4) = 16) and CXL_DECODER_F_NORMALIZED_ADDRESSING\n>>> (BIT(6) = 64) are bit masks, but three call sites pass them to test_bit()\n>>> which expects a bit number.\n>>>\n>>> Replace test_bit() with direct bitmask tests, consistent with every other\n>>> use of these flags.\n>>>\n>>> Fixes: 2230c4bdc412 (\"cxl: Add handling of locked CXL decoder\")\n>>> Signed-off-by: Gregory Price <gourry@gourry.net>\n>>\n>> Alison sent out a patch [1] two weeks ago for this. I suspect you found this bug\n>> independently, so I figured I should point it out. Otherwise, I would add a Reported-by (or some\n>> other tag) with her name.\n>>\n>> Thanks,\n>> Ben\n>>\n>> [1]: https://lore.kernel.org/linux-cxl/20260206181404.1025991-1-alison.schofield@intel.com/\n> \n> Ah, yeah, missed this, and did find independently when testing unbinds.\n> \n> Wasn't on cxl/next so I thought it hadn't been found yet.\n\nYeah waiting on 7.0-rc1 for cxl/fixes. I also asked her to split the patches into 2 fixes. But if you don't mind go add your review tag that'd be great! :) \n\n> \n> Cool, thanks!\n> ~Gregory\n\n\n",
          "reply_to": "",
          "message_date": "2026-02-23",
          "message_id": ""
        }
      ],
      "analysis_source": "heuristic"
    }
  }
}