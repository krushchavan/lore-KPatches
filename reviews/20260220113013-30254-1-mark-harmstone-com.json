{
  "thread_id": "20260220113013.30254-1-mark@harmstone.com",
  "subject": "[PATCH] btrfs: fix chunk offset error message in check_dev_extent_item()",
  "url": "https://lore.kernel.org/all/20260220113013.30254-1-mark@harmstone.com/",
  "dates": {
    "2026-02-20": {
      "report_file": "2026-02-20_ollama_llama3.1-8b.html",
      "developer": "Mark Harmstone",
      "reviews": [
        {
          "author": "Qu Wenruo",
          "summary": "Approved the patch with a Reviewed-by tag, indicating it's correct and suitable for merge.",
          "sentiment": "positive",
          "sentiment_signals": [
            "LGTM"
          ],
          "has_inline_review": false,
          "tags_given": [
            "Reviewed-by"
          ],
          "analysis_source": "llm",
          "raw_body": "\n\n在 2026/2/20 22:00, Mark Harmstone 写道:\n> Fix a copy-paste bug in an error message in check_dev_extent_item():\n> we're reporting an incorrect offset, but actually printing the objectid.\n> \n> Signed-off-by: Mark Harmstone <mark@harmstone.com>\n> Fixes: 008e2512dc56 (\"btrfs: tree-checker: add dev extent item checks\")\n\nReviewed-by: Qu Wenruo <wqu@suse.com>\n\nThanks,\nQu\n\n> ---\n>   fs/btrfs/tree-checker.c | 2 +-\n>   1 file changed, 1 insertion(+), 1 deletion(-)\n> \n> diff --git a/fs/btrfs/tree-checker.c b/fs/btrfs/tree-checker.c\n> index ac4c4573ee39..133510f99fc5 100644\n> --- a/fs/btrfs/tree-checker.c\n> +++ b/fs/btrfs/tree-checker.c\n> @@ -1899,7 +1899,7 @@ static int check_dev_extent_item(const struct extent_buffer *leaf,\n>   \t\t\t\t sectorsize))) {\n>   \t\tgeneric_err(leaf, slot,\n>   \t\t\t    \"invalid dev extent chunk offset, has %llu not aligned to %u\",\n> -\t\t\t    btrfs_dev_extent_chunk_objectid(leaf, de),\n> +\t\t\t    btrfs_dev_extent_chunk_offset(leaf, de),\n>   \t\t\t    sectorsize);\n>   \t\treturn -EUCLEAN;\n>   \t}\n\n\n",
          "reply_to": "Mark Harmstone"
        }
      ],
      "analysis_source": "llm",
      "patch_summary": "This patch fixes a copy-paste bug in the error message of check_dev_extent_item() by reporting the correct offset instead of objectid."
    },
    "2026-02-21": {
      "report_file": "2026-02-21_ollama_llama3.1-8b.html",
      "developer": "Mark Harmstone",
      "reviews": [
        {
          "author": "Qu Wenruo",
          "summary": "Approved the patch with a Reviewed-by tag, noting that it fixes a bug in the error message of check_dev_extent_item().",
          "sentiment": "positive",
          "sentiment_signals": [
            "APPROVED"
          ],
          "has_inline_review": false,
          "tags_given": [
            "Reviewed-by"
          ],
          "analysis_source": "llm",
          "raw_body": "\n\n在 2026/2/20 22:00, Mark Harmstone 写道:\n> Fix a copy-paste bug in an error message in check_dev_extent_item():\n> we're reporting an incorrect offset, but actually printing the objectid.\n> \n> Signed-off-by: Mark Harmstone <mark@harmstone.com>\n> Fixes: 008e2512dc56 (\"btrfs: tree-checker: add dev extent item checks\")\n\nReviewed-by: Qu Wenruo <wqu@suse.com>\n\nThanks,\nQu\n\n> ---\n>   fs/btrfs/tree-checker.c | 2 +-\n>   1 file changed, 1 insertion(+), 1 deletion(-)\n> \n> diff --git a/fs/btrfs/tree-checker.c b/fs/btrfs/tree-checker.c\n> index ac4c4573ee39..133510f99fc5 100644\n> --- a/fs/btrfs/tree-checker.c\n> +++ b/fs/btrfs/tree-checker.c\n> @@ -1899,7 +1899,7 @@ static int check_dev_extent_item(const struct extent_buffer *leaf,\n>   \t\t\t\t sectorsize))) {\n>   \t\tgeneric_err(leaf, slot,\n>   \t\t\t    \"invalid dev extent chunk offset, has %llu not aligned to %u\",\n> -\t\t\t    btrfs_dev_extent_chunk_objectid(leaf, de),\n> +\t\t\t    btrfs_dev_extent_chunk_offset(leaf, de),\n>   \t\t\t    sectorsize);\n>   \t\treturn -EUCLEAN;\n>   \t}\n\n\n",
          "reply_to": "",
          "message_date": "2026-02-21"
        }
      ],
      "analysis_source": "llm",
      "patch_summary": "This patch fixes a bug in the Btrfs tree-checker where an error message incorrectly reports the offset of a dev extent chunk, instead printing its object ID."
    }
  }
}