{
  "thread_id": "44a2111e33631d78aded73e4b79908db6237227f.camel@kernel.org",
  "subject": "Re: [PATCH] Add support for empty path in openat and openat2 syscalls",
  "url": "https://lore.kernel.org/all/44a2111e33631d78aded73e4b79908db6237227f.camel@kernel.org/",
  "dates": {
    "2026-02-23": {
      "report_file": "2026-02-23_ollama_llama3.1-8b.html",
      "developer": "Jeff Layton",
      "reviews": [
        {
          "author": "Jeff Layton",
          "summary": "Reviewer suggested that the O_EMPTY_PATH flag should be an OPENAT2_* flag instead, citing recent discussion around O_REGULAR flag",
          "sentiment": "needs_work",
          "sentiment_signals": [
            "requested changes"
          ],
          "has_inline_review": false,
          "tags_given": [
            "Reviewed-by"
          ],
          "analysis_source": "llm",
          "raw_body": "This sounds valuable, but there was recent discussion around the\nO_REGULAR flag that said that we shouldn't be adding new flags to older\nsyscalls [1]. Should this only be an OPENAT2_* flag instead?\n\n[1]: https://lore.kernel.org/linux-fsdevel/20260129-siebzehn-adler-efe74ff8f1a9@brauner/",
          "reply_to": "Jori Koolstra",
          "message_date": "2026-02-23"
        },
        {
          "author": "David Laight",
          "summary": "Reviewer noted that the O_EMPTY_PATH flag is not properly handled in the build_open_flags function, which does not set LOOKUP_EMPTY when O_EMPTY_PATH is specified.\n\nReviewer David Laight questioned the usefulness of allowing empty path in openat and openat2 syscalls for files, citing security concerns and lack of clear use cases.",
          "sentiment": "needs_work",
          "sentiment_signals": [
            "flag handling issue",
            "security concern",
            "lack of clear use case"
          ],
          "has_inline_review": true,
          "tags_given": [
            "Reviewed-by"
          ],
          "analysis_source": "llm",
          "raw_body": "On Mon, 23 Feb 2026 16:16:52 +0100\nJori Koolstra <jkoolstra@xs4all.nl> wrote:\n\n---\n\nWhat do you want the fd for?\nThere are good reasons for wanting an fd for a directory that you don't\nhave access permissions for, but what is the use case for a file?\n\nIt all gets very close to letting you do things that the 'security model'\nshould reject.\n\n\tDavid",
          "reply_to": "Jori Koolstra",
          "message_date": "2026-02-23"
        }
      ],
      "analysis_source": "llm-per-reviewer"
    },
    "2026-02-24": {
      "report_file": "2026-02-23_ollama_llama3.1-8b.html",
      "developer": "Jeff Layton",
      "reviews": [
        {
          "author": "Christian Brauner",
          "summary": "The reviewer questioned the origin of the O_EMPTY_PATH flag, pointing out that it was taken from a uapi-group list without explicit mention in the commit message.",
          "sentiment": "neutral",
          "sentiment_signals": [
            "questioning",
            "inquiry"
          ],
          "has_inline_review": false,
          "tags_given": [],
          "analysis_source": "llm",
          "raw_body": "Out of curiosity, did you pick this taken from our uapi-group list?\n\nhttps://github.com/uapi-group/kernel-features?tab=readme-ov-file#at_empty_path-support-for-openat-and-openat2\nhttps://github.com/uapi-group/kernel-features/issues/47\n\n?",
          "reply_to": "Jori Koolstra",
          "message_date": "2026-02-24"
        },
        {
          "author": "Jori Koolstra (author)",
          "summary": "Author acknowledged a mistake in their original patch description, stating they should have mentioned the UAPI list, but no fix is planned.",
          "sentiment": "neutral",
          "sentiment_signals": [
            "acknowledged a mistake",
            "no fix planned"
          ],
          "has_inline_review": false,
          "tags_given": [],
          "analysis_source": "llm",
          "raw_body": "Yes, I took the advice you gave me at FOSDEM to heart :) . I should have maybe\nmentioned that this patch is in reference to the UAPI list, but forgot that in\nthe patch message and did not want to send another email about it.\n\nBest,\nJori.",
          "reply_to": "Christian Brauner",
          "message_date": "2026-02-24"
        },
        {
          "author": "Jori Koolstra (author)",
          "summary": "Author is asking for clarification on how to handle the new O_EMPTY_PATH flag, suggesting either filtering it from openat() or adding a RESOLVE_EMPTY flag to resolve options.",
          "sentiment": "neutral",
          "sentiment_signals": [
            "clarifying question"
          ],
          "has_inline_review": false,
          "tags_given": [],
          "analysis_source": "llm",
          "raw_body": "So would you want to filter the O_EMPTY_PATH flag from openat(), or maybe add\na RESOLVE_EMPTY flag to the resolve options?\n\nThanks,\nJori.",
          "reply_to": "Christian Brauner",
          "message_date": "2026-02-24"
        },
        {
          "author": "Christian Brauner",
          "summary": "The reviewer suggested adding an OPENAT2_EMPTY_PATH flag in the upper 32 bits of the 64-bit flag argument for struct open_how, allowing it to be used only with openat2() and not openat().",
          "sentiment": "needs_work",
          "sentiment_signals": [
            "requested changes"
          ],
          "has_inline_review": false,
          "tags_given": [
            "Reviewed-by"
          ],
          "analysis_source": "llm",
          "raw_body": "No, add a OPENAT2_EMPTY_PATH in the upper 32 bit of the 64-bit flag\nargument for struct open_how. Then it cannot be used in openat(). But\nlet's wait a day or so to see whether we have someone that really wants\nto extend this to openat() as well...",
          "reply_to": "Jori Koolstra",
          "message_date": "2026-02-24"
        }
      ],
      "analysis_source": "llm-per-reviewer"
    }
  }
}