{
  "thread_id": "5826915dea6b149707f68847f0f3330a25615eae.camel@kernel.org",
  "subject": "[PATCH 00/61] vfs: change inode->i_ino from unsigned long to u64",
  "url": "https://lore.kernel.org/all/5826915dea6b149707f68847f0f3330a25615eae.camel@kernel.org/",
  "dates": {
    "2026-02-26": {
      "report_file": "2026-02-26_ollama_llama3.1-8b.html",
      "developer": "Jeff Layton",
      "reviews": [
        {
          "author": "Jeff Layton",
          "summary": "reviewer noted that the patch updates format strings from %lu/%lx to %llu/%llx and 0UL literal to 0ULL in various files, but did not provide any specific feedback or concerns",
          "sentiment": "neutral",
          "sentiment_signals": [],
          "has_inline_review": false,
          "tags_given": [
            "Reviewed-by"
          ],
          "analysis_source": "llm",
          "raw_body": "Update format strings from %lu/%lx to %llu/%llx and 0UL literal to\n0ULL in pipe, dcache, fserror, and eventpoll, now that i_ino is u64\ninstead of unsigned long.\n\nSigned-off-by: Jeff Layton <jlayton@kernel.org>\n---\n fs/dcache.c    | 4 ++--\n fs/eventpoll.c | 2 +-\n fs/fserror.c   | 2 +-\n fs/pipe.c      | 2 +-\n 4 files changed, 5 insertions(+), 5 deletions(-)\n\ndiff --git a/fs/dcache.c b/fs/dcache.c\nindex 24f4f3acaa8cffd6f98124eec38c1a92d6c9fd8e..9e8425ecd88955c72027d21591b1d12c87e7e8aa 100644\n--- a/fs/dcache.c\n+++ b/fs/dcache.c\n@@ -1637,11 +1637,11 @@ static enum d_walk_ret umount_check(void *_data, struct dentry *dentry)\n \tif (dentry == _data && dentry->d_lockref.count == 1)\n \t\treturn D_WALK_CONTINUE;\n \n-\tWARN(1, \"BUG: Dentry %p{i=%lx,n=%pd} \"\n+\tWARN(1, \"BUG: Dentry %p{i=%llx,n=%pd} \"\n \t\t\t\" still in use (%d) [unmount of %s %s]\\n\",\n \t\t       dentry,\n \t\t       dentry->d_inode ?\n-\t\t       dentry->d_inode->i_ino : 0UL,\n+\t\t       dentry->d_inode->i_ino : 0ULL,\n \t\t       dentry,\n \t\t       dentry->d_lockref.count,\n \t\t       dentry->d_sb->s_type->name,\ndiff --git a/fs/eventpoll.c b/fs/eventpoll.c\nindex 5714e900567c499739bb205f43bb6bf73f7ebe54..4ccd4d2e31adf571f939d2e777123e40302e565f 100644\n--- a/fs/eventpoll.c\n+++ b/fs/eventpoll.c\n@@ -1080,7 +1080,7 @@ static void ep_show_fdinfo(struct seq_file *m, struct file *f)\n \t\tstruct inode *inode = file_inode(epi->ffd.file);\n \n \t\tseq_printf(m, \"tfd: %8d events: %8x data: %16llx \"\n-\t\t\t   \" pos:%lli ino:%lx sdev:%x\\n\",\n+\t\t\t   \" pos:%lli ino:%llx sdev:%x\\n\",\n \t\t\t   epi->ffd.fd, epi->event.events,\n \t\t\t   (long long)epi->event.data,\n \t\t\t   (long long)epi->ffd.file->f_pos,\ndiff --git a/fs/fserror.c b/fs/fserror.c\nindex 06ca86adab9b769dfb72ec58b9e51627abee5152..1e4d11fd9562fd158a23b64ca60e9b7e01719cb8 100644\n--- a/fs/fserror.c\n+++ b/fs/fserror.c\n@@ -176,7 +176,7 @@ void fserror_report(struct super_block *sb, struct inode *inode,\n lost:\n \tif (inode)\n \t\tpr_err_ratelimited(\n- \"%s: lost file I/O error report for ino %lu type %u pos 0x%llx len 0x%llx error %d\",\n+ \"%s: lost file I/O error report for ino %llu type %u pos 0x%llx len 0x%llx error %d\",\n \t\t       sb->s_id, inode->i_ino, type, pos, len, error);\n \telse\n \t\tpr_err_ratelimited(\ndiff --git a/fs/pipe.c b/fs/pipe.c\nindex b44a756c0b4165edc2801b2290bf35480245d7a6..9841648c9cf3e8e569cf6ba5c792624fe92396f5 100644\n--- a/fs/pipe.c\n+++ b/fs/pipe.c\n@@ -873,7 +873,7 @@ static struct vfsmount *pipe_mnt __ro_after_init;\n  */\n static char *pipefs_dname(struct dentry *dentry, char *buffer, int buflen)\n {\n-\treturn dynamic_dname(buffer, buflen, \"pipe:[%lu]\",\n+\treturn dynamic_dname(buffer, buflen, \"pipe:[%llu]\",\n \t\t\t\td_inode(dentry)->i_ino);\n }\n \n\n-- \n2.53.0\n\n\n______________________________________________________\nLinux MTD discussion mailing list\nhttp://lists.infradead.org/mailman/listinfo/linux-mtd/",
          "reply_to": "",
          "message_date": "2026-02-26",
          "message_id": ""
        },
        {
          "author": "Darrick Wong",
          "summary": "Gave Acked-by",
          "sentiment": "positive",
          "sentiment_signals": [],
          "has_inline_review": false,
          "tags_given": [
            "Acked-by"
          ],
          "analysis_source": "llm",
          "raw_body": "",
          "reply_to": "Jeff Layton",
          "message_date": "2026-02-26",
          "message_id": ""
        },
        {
          "author": "Mathieu Desnoyers",
          "summary": "Reviewer noted that applying this patch as a fixup at the end of the series would break bisectability, making it harder to identify the exact commit causing issues.",
          "sentiment": "needs_work",
          "sentiment_signals": [
            "requested changes"
          ],
          "has_inline_review": false,
          "tags_given": [
            "Reviewed-by"
          ],
          "analysis_source": "llm",
          "raw_body": "Doing this as a fixup at the end of the series breaks bissectability.\n\nThanks,\n\nMathieu\n\n-- \nMathieu Desnoyers\nEfficiOS Inc.\nhttps://www.efficios.com",
          "reply_to": "Jeff Layton",
          "message_date": "2026-02-26",
          "message_id": ""
        },
        {
          "author": "Darrick Wong",
          "summary": "Reviewer noted that the patch updates format strings from %lu/%lx to %llu/%llx, but did not update the literal 0UL to 0ULL in all affected files.",
          "sentiment": "needs_work",
          "sentiment_signals": [
            "requested changes"
          ],
          "has_inline_review": false,
          "tags_given": [
            "Reviewed-by"
          ],
          "analysis_source": "llm",
          "raw_body": "______________________________________________________\nLinux MTD discussion mailing list\nhttp://lists.infradead.org/mailman/listinfo/linux-mtd/",
          "reply_to": "Jeff Layton",
          "message_date": "2026-02-26",
          "message_id": ""
        }
      ],
      "analysis_source": "llm",
      "patch_summary": "This patch updates the format strings in various Linux kernel files to accommodate the change from unsigned long to u64 for inode numbers (i_ino). The changes affect the pipe, dcache, fserror, and eventpoll modules, updating print statements to use %llu/%llx instead of %lu/%lx for printing inode numbers. This ensures that inode numbers are printed correctly as 64-bit values."
    }
  }
}