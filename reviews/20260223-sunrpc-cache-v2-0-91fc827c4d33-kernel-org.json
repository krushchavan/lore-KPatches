{
  "thread_id": "20260223-sunrpc-cache-v2-0-91fc827c4d33@kernel.org",
  "subject": "[PATCH v2 0/4] sunrpc: cache infrastructure scalability improvements",
  "url": "https://lore.kernel.org/all/20260223-sunrpc-cache-v2-0-91fc827c4d33@kernel.org/",
  "dates": {
    "2026-02-23": {
      "report_file": "2026-02-23.html",
      "developer": "Jeff Layton",
      "reviews": [
        {
          "author": "Chuck Lever",
          "summary": "From: Chuck Lever <chuck.lever@oracle.com> Applied to nfsd-testing, replacing v1. Thanks! [1/4] sunrpc: fix cache_request leak in cache_release commit: dad5f78046759eb5c95970198eb9865550eb6227 [2/4] sunrpc: convert queue_lock from global spinlock to per-cache-detail lock commit: c94ad34b7ecd5928cf3fdb6ea4fcf6ef55765e97 [3/4] sunrpc: convert queue_wait from global to...",
          "sentiment": "positive",
          "sentiment_signals": [
            "applied"
          ],
          "has_inline_review": true,
          "tags_given": [],
          "analysis_source": "heuristic",
          "raw_body": "From: Chuck Lever <chuck.lever@oracle.com>\n\nOn Mon, 23 Feb 2026 12:09:57 -0500, Jeff Layton wrote:\n> The first patch fixes a pre-existing bug that Neil spotted during the\n> review of v1. The next two patches convert the global spinlock and\n> waitqueue to be per-cache_detail instead.\n> \n> The last patch splits up the cache_detail->queue into two lists: one to\n> hold cache_readers and one for cache_requests. This simplifies the code,\n> and the new sequence number that helps the readers track position may\n> help with implementing netlink upcalls.\n> \n> [...]\n\nApplied to nfsd-testing, replacing v1. Thanks!\n\n[1/4] sunrpc: fix cache_request leak in cache_release\n      commit: dad5f78046759eb5c95970198eb9865550eb6227\n[2/4] sunrpc: convert queue_lock from global spinlock to per-cache-detail lock\n      commit: c94ad34b7ecd5928cf3fdb6ea4fcf6ef55765e97\n[3/4] sunrpc: convert queue_wait from global to per-cache-detail waitqueue\n      commit: 951696964e9c370a5f91d5e3e136d39aa08d912c\n[4/4] sunrpc: split cache_detail queue into request and reader lists\n      commit: 3557b9c71039b2435b383fc57283a0b847b40144\n\n--\nChuck Lever\n\n\n",
          "reply_to": "",
          "message_date": "2026-02-23",
          "message_id": ""
        }
      ],
      "analysis_source": "heuristic",
      "patch_summary": "The first patch fixes a pre-existing bug that Neil spotted during the review of v1. The next two patches convert the global spinlock and waitqueue to be per-cache_detail instead.\n\nThe last patch splits up the cache_detail->queue into two lists: one to hold cache_readers and one for cache_requests. This simplifies the code, and the new sequence number that helps the readers track position may help with implementing netlink upcalls.\n\nPlease consider these for v7.1."
    }
  }
}