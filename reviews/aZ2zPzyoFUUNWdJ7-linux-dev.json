{
  "thread_id": "aZ2zPzyoFUUNWdJ7@linux.dev",
  "subject": "[PATCH] mm: allow __GFP_RETRY_MAYFAIL in vmalloc",
  "url": "https://lore.kernel.org/all/aZ2zPzyoFUUNWdJ7@linux.dev/",
  "dates": {
    "2026-02-24": {
      "report_file": "2026-02-24_ollama_llama3.1-8b.html",
      "developer": "Shakeel Butt",
      "reviews": [
        {
          "author": "Michal Hocko",
          "summary": "Pointed out that the patch's purpose is unclear, suggesting that the author should clarify their intentions and consider alternative approaches.",
          "sentiment": "needs_work",
          "sentiment_signals": [
            "NEEDS_WORK"
          ],
          "has_inline_review": false,
          "tags_given": [],
          "analysis_source": "llm",
          "raw_body": "On Tue 24-02-26 06:22:15, Shakeel Butt wrote:\n> On Tue, Feb 24, 2026 at 06:03:13AM -0800, Christoph Hellwig wrote:\n> > On Tue, Feb 24, 2026 at 01:22:36PM +0100, Michal Hocko wrote:\n> > > One thing that we could do to improve __GFP_RETRY_MAYFAIL resp.\n> > > __GFP_NORETRY is to use NOWAIT allocation semantic for page table\n> > > allocations as those could be achieved by scoped allocation context.\n> > > This could cause pre-mature failure after the whole bunch of memory has\n> > > already been allocated for the backing pages but considering that page\n> > > table allocations should be more and more rare over system runtime it\n> > > might be just a reasonable workaround. WDYT?\n> > \n> > Why bother?  __GFP_RETRY_MAYFAIL has pretty lose semantics.  Trying\n> > too hard to allocate PTEs is not breaking the overall concept.\n> > \n> \n> One thing __GFP_RETRY_MAYFAIL is very clear about is to not trigger the\n> oom-killer which is not the case for GFP_KERNEL. There are users who explicitly\n> use __GFP_RETRY_MAYFAIL to avoid oom-killer.\n> \n> Mikulas, is that the reason you are using __GFP_RETRY_MAYFAIL in your use-case?\n\nyes https://lore.kernel.org/all/32bd9bed-a939-69c4-696d-f7f9a5fe31d8@redhat.com/T/#u\n-- \nMichal Hocko\nSUSE Labs\n\n",
          "reply_to": "",
          "message_date": "2026-02-24",
          "message_id": ""
        }
      ],
      "analysis_source": "llm",
      "patch_summary": "The patch proposes to allow __GFP_RETRY_MAYFAIL in vmalloc, but reviewers question the need for documentation and suggest alternative approaches."
    }
  }
}